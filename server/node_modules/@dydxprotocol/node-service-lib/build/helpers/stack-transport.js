'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StackTransport = undefined;

var _winstonTransport = require('winston-transport');

var _winstonTransport2 = _interopRequireDefault(_winstonTransport);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class StackTransport extends _winstonTransport2.default {
  log(info, callback) {
    setImmediate(() => {
      if (info && info.error) {
        // eslint-disable-next-line
        console.error(info.error.stack);
      }
    });
    if (callback) {
      callback();
    }
  }
}
exports.StackTransport = StackTransport;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9oZWxwZXJzL3N0YWNrLXRyYW5zcG9ydC5qcyJdLCJuYW1lcyI6WyJTdGFja1RyYW5zcG9ydCIsIlRyYW5zcG9ydCIsImxvZyIsImluZm8iLCJjYWxsYmFjayIsInNldEltbWVkaWF0ZSIsImVycm9yIiwiY29uc29sZSIsInN0YWNrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7OztBQUVPLE1BQU1BLGNBQU4sU0FBNkJDLDBCQUE3QixDQUF1QztBQUM1Q0MsTUFBSUMsSUFBSixFQUFVQyxRQUFWLEVBQW9CO0FBQ2xCQyxpQkFBYSxNQUFNO0FBQ2pCLFVBQUlGLFFBQVFBLEtBQUtHLEtBQWpCLEVBQXdCO0FBQ3RCO0FBQ0FDLGdCQUFRRCxLQUFSLENBQWNILEtBQUtHLEtBQUwsQ0FBV0UsS0FBekI7QUFDRDtBQUNGLEtBTEQ7QUFNQSxRQUFJSixRQUFKLEVBQWM7QUFDWkE7QUFDRDtBQUNGO0FBWDJDO1FBQWpDSixjLEdBQUFBLGMiLCJmaWxlIjoic3RhY2stdHJhbnNwb3J0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFRyYW5zcG9ydCBmcm9tICd3aW5zdG9uLXRyYW5zcG9ydCc7XG5cbmV4cG9ydCBjbGFzcyBTdGFja1RyYW5zcG9ydCBleHRlbmRzIFRyYW5zcG9ydCB7XG4gIGxvZyhpbmZvLCBjYWxsYmFjaykge1xuICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICBpZiAoaW5mbyAmJiBpbmZvLmVycm9yKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICBjb25zb2xlLmVycm9yKGluZm8uZXJyb3Iuc3RhY2spO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==